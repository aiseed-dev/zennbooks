---
title: 第3章　実践！AIと一緒に開発環境を整えよう
---

――アプリ開発のスタートラインに立つ

この章では、実際にツールをインストールし、アプリ開発ができる環境を構築します。すべての操作はAIメンターと一緒に進めていきます。エラーが出ても、慌てずに相談すれば大丈夫です。

---

## 3.3 Flutter SDK のインストール

FlutterはGoogleが開発したクロスプラットフォーム向けUIフレームワークです。モバイル・Web・デスクトップに対応したアプリが1つのコードベースで開発できます。

### Flutter SDK をダウンロード

まず、Cドライブ直下に `tools` という名前のフォルダを作ります（まだ作っていない場合）。

```powershell
mkdir C:\tools
```

この `C:\tools` フォルダは、Windowsインストーラーが付属していないZIP形式の開発ツールをまとめて整理しておく場所として使います。

次に、Flutter公式サイトから最新版のSDKをダウンロードします。

* [https://flutter.dev/docs/get-started/install](https://flutter.dev/docs/get-started/install)

> ✅ Windows版を選び、「ZIPファイル」をダウンロードします。ダウンロードしたZIPファイルは、先ほど作成した `C:\tools` フォルダ内に置き、解凍してください。例：`C:\tools\flutter`

### インストール場所について

Flutter自体は自分が開発するアプリではないため、`C:\tools\flutter` のように **アプリ開発とは別の場所** に配置するのが望ましいです。

> 💡 `C:\tools` は、Windowsインストーラーが付属していないツール類（FlutterやNode.jsのバイナリ版など）をまとめて整理しておくのに便利な場所です。後述のように、自分が作ったアプリも完成後はここに移しておくと「動作環境」と「開発中プロジェクト」が明確に分かれて管理しやすくなります。

### パスを通す

展開したフォルダ（例：`C:\tools\flutter`）内の `bin` フォルダのパスを環境変数に追加します。

```powershell
$env:Path += ";C:\tools\flutter\bin"
```

これは一時的な設定のため、ターミナルを閉じると元に戻ってしまいます。永続的に使えるようにするには、次のように「システム環境変数」に追加してください。

#### システム環境変数に追加する手順

1. スタートメニューで「環境変数」と検索し、「システム環境変数の編集」を開く
2. 「環境変数(N)...」ボタンをクリック
3. 下部の「システム環境変数」欄の `Path` を選択して「編集(E)...」をクリック
4. 「新規(N)」をクリックして、次のパスを追加：

```
C:\tools\flutter\bin
```

5. OK をクリックしてすべてのウィンドウを閉じる

> ✅ これで、今後どのターミナルでも `flutter` コマンドが使えるようになります。

---

## 3.4 Flutter の動作確認と doctor の実行

Flutterのインストール後は、まず次のコマンドで動作確認を行います（**最初は `flutter doctor` から実行するのが安全です**）。

```powershell
flutter doctor
```

> 💡 初回は `flutter --version` が正しく表示されないことがあります。まず `flutter doctor` を実行して初期化を完了させると、その後 `flutter --version` も正しく動作するようになります。

環境に不足している設定やパッケージがあれば、`flutter doctor` が一覧表示してくれます。Android Studio、VSCode、AVD、Visual Studioなどのセットアップ状況も確認できます。

> ✅ 表示される警告やエラーをもとに、一つずつ対処していきましょう。

---

## 3.4.1 サンプルアプリの作成と起動

Flutterが正しく動作するか確認するため、サンプルアプリを作ってみましょう。先に作成した開発用プロジェクトのディレクトリ `C:\dev\myproject` に作るようにします。

```powershell
cd C:\dev\myproject
flutter create myapp
cd myapp
flutter run -d chrome
```

> ✅ Android Studio や AVD のセットアップが済んでいれば、`-d emulator` を指定することでエミュレータ上でも起動できます。

> 💡 Webターゲット（`-d chrome`）なら、Flutter は最初から対応しているので、Android のセットアップが未完でもブラウザで動作確認が可能です。

---

## 3.5 Visual Studio Code をインストールする

軽量で拡張性の高いコードエディタ「Visual Studio Code（VSCode）」を使うことで、Flutterアプリの開発がスムーズになります。

### インストール手順（WinGet）

```powershell
winget install -e --id Microsoft.VisualStudioCode
```

### 推奨拡張機能

* Flutter
* Dart
* GitLens（Gitの履歴が見やすくなる）

> 💡 拡張機能のインストールは、VSCode 左側の「拡張機能」パネルから検索して簡単に行えます。

---

## 3.6 Android Studio をインストールする

作ったアプリをAndroidスマートフォンで動かすには、そのための「ビルド（変換作業）」と「テスト」が必要です。**Android Studio**は、その両方の役割を担う、Googleが提供する公式の開発環境です。

特に、PCの中に**テスト用の仮想スマホ（Androidエミュレータ**）を作成する機能は、開発に欠かせません。この重要なツールを、手順に沿って導入していきましょう。

#### 1. インストールと初期設定

まずは、Android Studio本体をPCにインストールします。
1.  公式サイトからインストーラーをダウンロードします。
2.  ダウンロードしたファイルを開き、インストールを開始します。
    *   途中で設定画面がいくつか表示されますが、特に変更せず**「Next」を押して進めばOK**です。Androidアプリ開発に必要な基本的な道具（SDKなど）は自動的にインストールされます。

> ⚠️ **注意！**
> このソフトは非常にサイズが大きく、インストールにはとても時間がかかります。PCの空き容量を10GB以上確保し、時間に余裕があるときに作業してください。

#### 2. Flutterプラグインの導入【重要】

インストールが終わったら、初めてAndroid Studioを起動してみましょう。「ようこそ」画面が表示されたら、まずAndroid Studioに「これからFlutterの開発で使いますよ」と教えるための、**非常に重要な追加設定**を行います。
![Android StudioのWelcome画面](/images/windows-ai-app/image1.webp)

1.  画面左側のメニューから**「Plugins」（プラグイン）**をクリックします。
2.  検索窓に「**Flutter**」と入力し、表示されたFlutterプラグインの「Install」ボタンを押します。（Dartプラグインも一緒にインストールされます）
3.  インストールが終わったら、指示に従ってAndroid Studioを再起動します。

#### 3. 作成済みのプロジェクトを開く【ここからが本番！】

前の章で、あなたはすでにコマンドプロンプトから `flutter create` を使って、最初のプロジェクトを作成しましたね。Android Studioの準備が整ったので、いよいよそのプロジェクトを開いてみましょう。

再起動すると、「ようこそ」画面が表示されます。

新しくプロジェクトを作るのではなく、すでにあるものを開くので、写真の右側にある **「Open」** をクリックします。

ファイルを選択する画面が表示されたら、あなたが `flutter create` でプロジェクトを作成したフォルダを開きます。
例えば、`cd C:\dev` の後に `flutter create myapp` を実行した場合、開くべきフォルダは `myapp` です。

*   **選択するフォルダの例:** `C:\dev\myapp`

フォルダを選択して「OK」を押すと、しばらくしてプロジェクトの読み込みが完了し、コードを編集するためのメイン画面が表示されます。

#### 4. 仮想スマホ（エミュレータ）の作成

次に、テストで使う仮想のスマホを1台作ります。

1.  Android Studioのメイン画面右上にある、スマホの形をしたアイコン（Device Manager）をクリックします。
2.  「Create virtual device」ボタンを押します。
3.  好きなスマホ機種（例：「Pixel 8」など）を選び、「Next」を押します。
4.  Androidのバージョン（System Image）を選びます。よく分からなければ、**推奨（Recommended）タブにある最新のもの**を選んでダウンロードし、「Next」→「Finish」と進めます。

#### 5. 最終チェック（flutter doctor）

最後に、すべての準備が正しく完了したかを確認する「健康診断」を行います。

1.  コマンドプロンプト（またはターミナル）を開きます。
2.  `flutter doctor` と入力して、Enterキーを押します。

`Android toolchain` や `Android Studio` の項目に**緑色のチェックマーク `[✓]`** が付けば、すべての準備は完璧です！
---

## 3.7 Visual Studio（Windowsアプリ用）のインストール

Flutterは、AndroidやiOSだけでなく、Windowsで動く本格的なデスクトップアプリケーションも作ることができます。

ただし、そのビルド（変換作業）と実行のためには、マイクロソフトが提供する**「Visual Studio」**という、非常に強力な開発環境をPCにインストールする必要があります。

#### 【最重要】「Visual Studio」と「Visual Studio Code」は全くの別物です！

これは初心者が最も混同しやすいポイントです。

*   **Visual Studio:** 家を建てるための重機やクレーンも含む、巨大な「建設現場」のようなものです。OSの根幹に関わる開発に使います。（今回インストールするのはこちら）
*   **Visual Studio Code (VSCode):** コードを書くための、高機能な「エディタ（メモ帳）」です。

名前は似ていますが、役割もサイズも全く異なります。間違えないようにしましょう。

#### 必要最低限のインストール手順

Visual Studioは非常に多機能で、全てをインストールしようとするとPCの容量を数十GBも消費してしまいます。しかし、FlutterでWindowsアプリを作るために必要なものは、実はごく一部です。以下の手順で、**「C++によるデスクトップ開発」**という部品だけを的確にインストールしましょう。

1.  **インストーラーのダウンロード**
    *   公式サイトから**「Visual Studio Community」**をダウンロードします。「Community」版は、個人開発者などが無料で利用できます。

2.  **インストーラーの起動**
    *   ダウンロードしたファイルを実行すると、まず「Visual Studio Installer」という管理ツールがインストールされ、起動します。

3.  **ワークロードの選択【ここが最重要！】**
    *   「ワークロード」というタブが表示されます。これは「機能のセット」を選ぶ画面です。
    *   たくさんの選択肢がありますが、**迷わず『C++によるデスクトップ開発』のチェックボックスをオンにしてください。** これだけでOKです。他の項目にチェックを入れる必要はありません。

4.  **インストールの詳細の確認**
    *   「C++によるデスクトップ開発」をチェックすると、画面右側の「インストールの詳細」に、必要な部品が自動でチェックされます。**この部分は何も変更せず、そのままで大丈夫です。**

5.  **インストール開始**
    *   「インストール」ボタンをクリックします。
    *   必要なファイルのダウンロードとインストールが始まります。非常にサイズが大きいため、完了までには数十分〜1時間以上かかることもあります。気長に待ちましょう。

#### 最終チェック：`flutter doctor`の実行

インストールが完了したら、FlutterがVisual Studioを正しく認識できたかを確認します。

1.  コマンドプロンプト（またはターミナル）を起動します。
2.  `flutter doctor` と入力して、Enterキーを押します。

結果の中に、以下の項目が表示され、**緑色のチェックマーク `[✓]`** がついていれば、すべての準備は完了です。

```
[✓] Visual Studio - Develop for Windows (Visual Studio Community 2022 17.x.x)
```

これで、あなたのFlutterプロジェクトは、Windowsのデスクトップアプリとしても羽ばたけるようになりました。
---

## まとめ：開発環境チェックリスト

| 項目             | 状態       | 備考                                               |
| -------------- | -------- | ------------------------------------------------ |
| PowerShell 最新版 | ✅ 済      | `pwsh` で起動できるか確認                                 |
| 開発用フォルダ構成      | ✅ 済      | `C:\dev\myproject\myapp`                         |
| Flutter SDK    | ✅ 済      | `C:\tools\flutter` に展開、`flutter doctor` で確認      |
| サンプルアプリ        | ✅ 済      | `flutter create myapp` & `flutter run -d chrome` |
| VSCode         | ✅ 済      | Flutter拡張機能を追加                                   |
| Android Studio | ✅ 済 | flutter doctor で確認 |
| Visual Studio  | ⏳ 必要に応じて | Windowsのデスクトップアプリの開発に必要|

次章では、いよいよ最初のアプリをAIと一緒に作っていきます！
